Youâ€™re absolutely right to pause here â€” **the Competitors page is structurally wrong**, not just â€œmissing data.â€

Right now itâ€™s acting like a **domain leaderboard**, while tools like **SEMrush** and **Ahrefs** treat competitors as a **keyword-defined battlefield**.

Below is a **clean, final blueprint** for how the Competitors module *should* work, **what DataForSEO endpoints must power it**, and **how to re-architect the UX** so it actually drives insight and action.

---

# ğŸš¨ Whatâ€™s Broken in the Current Competitors Page

From your screenshots, the current issues are clear:

### âŒ Structural Problems

* Competitors are **project-level static domains**
* Pressure Index = 100 for everyone â†’ meaningless
* â€œAuthorityâ€ is empty (no source wired)
* No keyword context â†’ no why
* No page context â†’ no what-to-fix
* No drill-down â†’ no action

This creates **false precision** without decision-making power.

---

# âœ… How SEMrush & Ahrefs ACTUALLY Define Competitors

> **Competitors are not domain lists.
> They are domains that rank for the *same keywords* you care about.**

### SEMrush/Ahrefs core logic:

* Start from **your keyword set**
* For each keyword:

  * Fetch **Top 10â€“20 SERP URLs**
* Aggregate:

  * Domains that appear **most frequently**
  * Domains that **outrank you**
  * Domains that block **high-value keywords**

Thatâ€™s the missing layer in your product.

---

# ğŸ§  Correct Mental Model (Lock This In)

### Competitors =

**Domains that steal traffic from your tracked keywords**

NOT:

* Market competitors
* Business competitors
* Hand-picked domains

---

# âœ… FINAL COMPETITOR SYSTEM ARCHITECTURE

## 1ï¸âƒ£ Data Model (Critical Fix)

### Replace / Extend with **Keyword-Centric Tables**

You already discussed this, but here is the final shape:

### `keyword_competitor_metrics` (CORE TABLE)

| Field             | Purpose         |
| ----------------- | --------------- |
| project_id        | Scope           |
| keyword_id        | Anchor          |
| competitor_domain | Who             |
| competitor_url    | Which page      |
| position          | Where they rank |
| your_position     | Where you rank  |
| position_delta    | Gap             |
| serp_features     | Why they win    |
| last_seen_at      | Freshness       |

âœ… This table should be filled **every time you crawl SERPs**
âœ… This becomes the source of truth for competitors

---

## 2ï¸âƒ£ DataForSEO APIs You MUST Use (and how)

### A. **SERP API (Already Using â€” Needs Better Aggregation)**

Use:

* `serp/google/organic/live`

For **every tracked keyword**:

* Fetch Top 10â€“20 results
* Extract:

  * Domain
  * URL
  * Position
  * SERP features (featured, sitelinks, etc.)

Store results **per keyword** â†’ not aggregated prematurely.

ğŸ‘‰ This powers:

* Shared keywords
* Keywords above us
* Average position
* REAL competitor discovery

---

### B. **Backlinks API (Authority & Pressure Layer)**

Use selectively (weekly/monthly):

* `backlinks/domain_summary`
* `backlinks/page_summary`
* `domain_intersection` (future)

Fetch:

* Referring domains
* Authority score
* Link velocity

âš ï¸ **DO NOT RUN THIS FOR EVERY KEYWORD**
Only enrich **top competitors** (by shared keywords).

---

# ğŸ§© FINAL COMPETITOR PAGE UX (SEMrush/Ahrefs-Inspired)

## SECTION 1 â€” Competitor Discovery (Auto-Generated)

> â€œBased on 445 tracked keywordsâ€

**Table: â€œOrganic Search Competitorsâ€**

| Competitor | Shared Keywords | Keywords Above You | Avg Pos (Us vs Them) | Traffic Threat | Authority |
| ---------- | --------------- | ------------------ | -------------------- | -------------- | --------- |
| clutch.co  | 19              | 17                 | 5.9 vs 4.6           | ğŸ”´ High        | Strong    |
| zazz.io    | 13              | 13                 | 9.5 vs 6.2           | ğŸ”´ High        | Medium    |

### ğŸ”‘ Rules

* Competitors appear **only if**

  * Share â‰¥ X keywords
  * OR outrank you on â‰¥ X high-intent keywords
* Your own domain NEVER appears as competitor

âœ… This instantly replaces your current flat list

---

## SECTION 2 â€” Competitive Pressure Distribution (Meaningful)

Replace the red 100% bars with:

### Chart: **Where competitors beat you**

* X-axis: Average ranking gap
* Y-axis: Number of keywords

This answers:

> â€œAre we barely losingâ€¦ or getting destroyed?â€

---

## SECTION 3 â€” Keyword-Level Breakdown (THIS IS THE MONEY VIEW)

When clicking a competitor â†’ **drill-down drawer or page**

### â€œKeywords Where *clutch.co* Beats Youâ€

| Keyword                 | Volume | Your Pos | Their Pos | Traffic Loss | Page URL              |
| ----------------------- | ------ | -------- | --------- | ------------ | --------------------- |
| android app development | 6,600  | 9        | 3         | ğŸ”¥ High      | clutch.co/android-dev |

âœ… This is **exactly** how Ahrefs/SEMrush win trust.

---

## SECTION 4 â€” Page-Level Competition (Where to Attack)

Inside competitor drill-down:

### â€œPages Blocking Youâ€

| Keyword Cluster  | Their URL | Their Links | Your Page    | Action                  |
| ---------------- | --------- | ----------- | ------------ | ----------------------- |
| App Dev Services | /android  | 212         | /android-dev | Upgrade content + links |

âœ… Now the tool tells PMs what page to fix.

---

## SECTION 5 â€” Authority & Link Context (Supporting Data)

Only after keyword proof:

* Domain authority (from Backlinks API)
* Referring domains
* Link velocity

Displayed as:

> â€œThey outrank you mostly due to authorityâ€
> or
> â€œAuthority equal â€” content wins this SERPâ€

---

# ğŸ” How DataForSEO Data Maps to UI (1:1)

| UI Element           | DataForSEO Source                    |
| -------------------- | ------------------------------------ |
| Competitor discovery | SERP API (per keyword)               |
| Shared keywords      | Keyword Ã— competitor join            |
| Above us             | Position comparison                  |
| Avg position         | Aggregated SERP data                 |
| Authority            | Backlinks domain summary             |
| Links per page       | Backlinks page summary               |
| Competitive pressure | (# keywords Ã— position gap Ã— volume) |
| Drill-down views     | keyword_competitor_metrics           |

---

# âŒ What NOT To Do (Important)

* âŒ Manually define competitors
* âŒ Use backlink authority alone to define competition
* âŒ Show â€œpressure indexâ€ without explaining its inputs
* âŒ Aggregate before storing raw keyword-level data

---

# âœ… One-Sentence Fix to Give Your Devs

> â€œRebuild Competitors around **keywords first**.
> Discover competitors from SERP data per keyword, store them in `keyword_competitor_metrics`, then aggregate up to domain-level views. Enrich only top competitors with Backlinks API.â€

---

## Where this puts you vs SEMrush/Ahrefs

Youâ€™ll actually be **better** because:

* Youâ€™re **project-specific** (theyâ€™re generic)
* Youâ€™re execution-oriented (theyâ€™re research-heavy)
* You connect **keywords â†’ pages â†’ recommendations**

If you want next, I can:

* Give you a **Replit/Cursor system prompt** to rebuild the Competitors page
* Define the **exact SQL + API contracts**
* Or redesign the **Competitor UX wireframe** diagrammatically

Just tell me which layer to lock next ğŸ”¥
